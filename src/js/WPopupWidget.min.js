WT_DECLARE_WT_MEMBER(1,JavaScriptConstructor,"WPopupWidget",(function(e,n,t,i,o){n.wtPopup=this;const s=this,u=e.WT;let c=null,d=t,l=i,r=null,h=null,a=null;function f(){if(u.isIOS){document.addEventListener("touchstart",p);document.addEventListener("touchend",m)}else document.addEventListener("click",v)}function p(e){const n=e.originalEvent.touches;r=n.length>1?null:{x:n[0].screenX,y:n[0].screenY}}function m(e){if(r){const n=e.originalEvent.changedTouches[0];Math.abs(r.x-n.screenX)<20&&Math.abs(r.y-n.screenY)<20&&v(e)}}function v(e){let t=u.target(e);t===document&&null!==u.WPopupWidget.popupClicked&&(t=u.WPopupWidget.popupClicked);(function(e,n){if(e===n)return!0;for(n=n.parentNode;n;n=n.parentNode)if(e===n)return!0;return!1})(n,t)||s.hide()}this.bindShow=function(e){h=e};this.bindHide=function(e){a=e};this.shown=function(){d&&setTimeout((function(){f()}),0);h&&h()};this.show=function(t,i,o=!0,s=!0){if(""!==n.style.display){n.style.display="";t&&u.positionAtWidget(n.id,t.id,i,!1,o,s);e.emit(n,"shown")}};this.hidden=function(){a&&a();d&&function(){if(u.isIOS){document.removeEventListener("touchstart",p);document.removeEventListener("touchend",m)}else document.removeEventListener("click",v)}()};this.hide=function(){"none"!==n.style.display&&(n.style.display="none");e.emit(n,"hidden");s.hidden()};this.setTransient=function(e,t){d=e;l=t;d&&"none"!==n.style.display&&setTimeout((function(){f()}),0)};n.addEventListener("mouseleave",(function(){clearTimeout(c);l>0&&(c=setTimeout((function(){s.hide()}),l))}));n.addEventListener("mouseenter",(function(){clearTimeout(c)}));o&&this.shown()}));